<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Örnek E-Ticaret Sitesi</title>
  <style>
    :root{--accent:#4f46e5;--muted:#6b7280;--bg:#f8fafc}
    *{box-sizing:border-box}
    body{font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin:0; background:var(--bg); color:#111}
    header{background:#fff;border-bottom:1px solid #e6edf3;padding:18px 24px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;background:linear-gradient(135deg,var(--accent),#06b6d4);border-radius:8px;display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    nav a{margin-right:14px;color:var(--muted);text-decoration:none}
    .container{max-width:1100px;margin:28px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px}
    .card{background:#fff;border-radius:10px;padding:14px;border:1px solid #e6edf3;display:flex;flex-direction:column;gap:10px}
    .card img{width:100%;height:160px;object-fit:cover;border-radius:6px}
    .title{font-weight:600}
    .price{color:var(--accent);font-weight:700}
    .meta{color:var(--muted);font-size:13px}
    .btn{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
    .btn.secondary{background:#fff;color:var(--accent);border:1px solid #e9e9ff}
    .cart-toggle{position:relative}
    .cart-count{position:absolute;right:-8px;top:-8px;background:#ef4444;color:white;border-radius:999px;padding:4px 7px;font-size:12px}
    /* Cart drawer */
    .drawer{position:fixed;right:20px;top:80px;width:360px;max-width:90vw;background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,.15);padding:16px;display:none;z-index:60}
    .drawer.open{display:block}
    .drawer h3{margin:0 0 8px}
    .cart-item{display:flex;gap:12px;align-items:center;padding:8px 0;border-bottom:1px dashed #eef2f6}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:8px}
    .qty{display:flex;gap:6px;align-items:center}
    footer{margin:48px 0 80px;color:var(--muted);text-align:center}
    /* Responsive */
    @media (max-width:640px){header{padding:12px} .brand .label{display:none}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">ET</div>
      <div>
        <div style="font-weight:700">MiniMağaza</div>
        <div class="muted" style="font-size:12px;color:var(--muted)">Hızlı, basit e-ticaret demo</div>
      </div>
    </div>

    <nav>
      <a href="#">Ürünler</a>
      <a href="#">Hakkımızda</a>
      <a href="#">İletişim</a>
      <button class="btn cart-toggle" id="openCart">Sepet <span class="cart-count" id="cartCount">0</span></button>
    </nav>
  </header>

  <main class="container">
    <section style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:18px">
      <div>
        <h1 style="margin:0">Popüler Ürünler</h1>
        <p style="margin:6px 0 0;color:var(--muted)">Hazır demo ürünler — hızlıca teste başlayabilirsin.</p>
      </div>
      <div>
        <input id="search" placeholder="Ürün ara..." style="padding:8px;border-radius:8px;border:1px solid #e6edf3;min-width:200px" />
      </div>
    </section>

    <section class="grid" id="productGrid">
      <!-- Ürünler JS ile eklenecek -->
    </section>
  </main>

  <aside class="drawer" id="cartDrawer" aria-hidden="true">
    <h3>Sepetin</h3>
    <div id="cartItems" style="max-height:320px;overflow:auto;margin-bottom:12px"></div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <div style="font-weight:700">Toplam:</div>
      <div id="cartTotal" style="font-weight:700;color:var(--accent)">0 ₺</div>
    </div>
    <div style="display:flex;gap:8px">
      <button class="btn" id="checkoutBtn">Ödeme Yap</button>
      <button class="btn secondary" id="clearCart">Sepeti Temizle</button>
    </div>
  </aside>

  <footer>
    Bu demo site eğitim amaçlıdır — gerçek ödeme altyapısı içermez.
  </footer>

  <script>
    // Örnek ürün verisi
    const products = [
      {id:1,title:'LED Masa Lambası',price:179,desc:'Dokunmatik, 7 renk',img:'https://via.placeholder.com/400x300?text=LED+Lamba'},
      {id:2,title:'Telefon Kılıfı',price:59,desc:'Silikon, ince tasarım',img:'https://via.placeholder.com/400x300?text=Telefon+Kılıfı'},
      {id:3,title:'Minimal Poster',price:49,desc:'A3 baskı, mat kağıt',img:'https://via.placeholder.com/400x300?text=Poster'},
      {id:4,title:'Kokulu Mum',price:39,desc:'El yapımı, vanilya kokusu',img:'https://via.placeholder.com/400x300?text=Mum'},
      {id:5,title:'Anahtarlık',price:29,desc:'Metal, gravürlü',img:'https://via.placeholder.com/400x300?text=Anahtarlık'},
      {id:6,title:'Taşınabilir Fan',price:119,desc:'USB ile çalışır',img:'https://via.placeholder.com/400x300?text=Fan'}
    ];

    // Basit sepet mantığı
    const cart = {};
    const grid = document.getElementById('productGrid');
    const cartCount = document.getElementById('cartCount');
    const cartDrawer = document.getElementById('cartDrawer');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');

    function renderProducts(list){
      grid.innerHTML = '';
      list.forEach(p=>{
        const el = document.createElement('article');
        el.className = 'card';
        el.innerHTML = `
          <img src="${p.img}" alt="${p.title}">
          <div class="title">${p.title}</div>
          <div class="meta">${p.desc}</div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:auto">
            <div class="price">${p.price} ₺</div>
            <div style="display:flex;gap:8px">
              <button class="btn" data-id="${p.id}">Sepete Ekle</button>
            </div>
          </div>
        `;
        grid.appendChild(el);
      });
    }

    function updateCartUI(){
      // count
      const count = Object.values(cart).reduce((s,i)=>s+i.qty,0);
      cartCount.textContent = count;
      // items
      cartItems.innerHTML = '';
      let total = 0;
      Object.values(cart).forEach(item=>{
        total += item.qty * item.price;
        const row = document.createElement('div');
        row.className = 'cart-item';
        row.innerHTML = `
          <img src="${item.img}" alt="${item.title}">
          <div style="flex:1">
            <div style="font-weight:600">${item.title}</div>
            <div style="color:var(--muted);font-size:13px">${item.price} ₺ x ${item.qty}</div>
          </div>
          <div class="qty">
            <button data-action="dec" data-id="${item.id}" class="btn secondary">-</button>
            <div style="min-width:20px;text-align:center">${item.qty}</div>
            <button data-action="inc" data-id="${item.id}" class="btn">+</button>
          </div>
        `;
        cartItems.appendChild(row);
      });
      cartTotal.textContent = total + ' ₺';
    }

    // Event delegation: sepete ekle
    document.body.addEventListener('click', e=>{
      const add = e.target.closest('button[data-id]');
      if(add){
        const id = Number(add.dataset.id);
        const p = products.find(x=>x.id===id);
        if(cart[id]) cart[id].qty +=1; else cart[id] = {...p,qty:1};
        updateCartUI();
        // kısa bildirim
        add.textContent = 'Eklendi ✓';
        setTimeout(()=> add.textContent = 'Sepete Ekle',900);
      }

      // cart drawer toggle
      if(e.target.id === 'openCart'){
        cartDrawer.classList.toggle('open');
        cartDrawer.setAttribute('aria-hidden', String(!cartDrawer.classList.contains('open')));
      }

      // qty butonları
      const qtyBtn = e.target.closest('button[data-action]');
      if(qtyBtn){
        const id = Number(qtyBtn.dataset.id);
        if(qtyBtn.dataset.action === 'inc') cart[id].qty +=1;
        if(qtyBtn.dataset.action === 'dec') { cart[id].qty -=1; if(cart[id].qty<=0) delete cart[id]; }
        updateCartUI();
      }

      // clear cart
      if(e.target.id === 'clearCart'){
        for(const k in cart) delete cart[k];
        updateCartUI();
      }

      // checkout (demo)
      if(e.target.id === 'checkoutBtn'){
        if(Object.keys(cart).length===0){ alert('Sepetin boş!'); return; }
        const total = Object.values(cart).reduce((s,i)=>s+i.price*i.qty,0);
        alert('Demo ödeme sayfasına yönlendiriliyorsun. Toplam: ' + total + ' ₺');
      }
    });

    // Search
    document.getElementById('search').addEventListener('input', e=>{
      const q = e.target.value.trim().toLowerCase();
      if(!q) renderProducts(products);
      else renderProducts(products.filter(p=>p.title.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q)));
    });

    // İlk render
    renderProducts(products);
    updateCartUI();
  </script>
</body>
</html>
