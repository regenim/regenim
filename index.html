<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>ZAHƒ∞D ‚ù§ REGEN</title>
  <style>
    /* Orijinal stil burada aynen korunacak, uzun olduƒüu i√ßin buraya √∂zetledim */
    body {
      margin: 0; padding: 0; overflow: hidden;
      background: url('https://i.pinimg.com/474x/82/90/66/829066cdee2b5e3ea93e70b538cf2ad6.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Arial', sans-serif;
      user-select: none;
      height: 100vh;
      position: relative;
      color: #e60073;
    }
    /* Diƒüer stil kodlarƒ±n aynen buraya gelecek (kalpler, modal vs) */
    /* ... */
    #auth-modal {
      position: fixed;
      inset: 0;
      background: rgba(255,182,193,0.95);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 60;
      user-select: none;
      flex-direction: column;
    }
    #auth-modal > div {
      background: #ffb6c1;
      padding: 30px 40px;
      border-radius: 16px;
      box-shadow: 0 0 20px #ff69b4;
      text-align: center;
      font-family: 'Arial', sans-serif;
      color: #900046;
      width: 90%;
      max-width: 420px;
    }
    #auth-modal h2 {
      margin-bottom: 20px;
      font-weight: 700;
    }
    #auth-modal input {
      width: 100%;
      padding: 12px 15px;
      font-size: 1.3rem;
      border: none;
      border-radius: 10px;
      box-shadow: inset 0 0 10px #ff69b4aa;
      outline: none;
      font-weight: 600;
      color: #900046;
      margin-bottom: 15px;
      user-select: text;
    }
    #auth-modal button {
      margin-top: 10px;
      background: #e60073;
      border: none;
      color: white;
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 1.2rem;
      cursor: pointer;
      font-weight: 700;
      transition: background 0.3s;
      width: 100%;
    }
    #auth-modal button:hover {
      background: #b30059;
    }
    #auth-switch {
      margin-top: 15px;
      color: #900046;
      cursor: pointer;
      font-weight: 700;
      text-decoration: underline;
      user-select: none;
    }
  </style>
</head>
<body>

  <!-- Kalpler ve diƒüer i√ßerik aynen korunacak -->
  <div class="hearts" id="hearts-container"></div>

  <div class="audio-controls">
    <div id="play-pause-btn" class="btn" title="Oynat / Duraklat">‚ñ∂Ô∏è</div>
    <div id="mute-btn" class="btn" title="Ses A√ß/Kapat">üîä</div>
  </div>

  <div class="text-overlay">
    <div class="text-part" id="zahid">ZAHƒ∞D</div>
    <div class="text-part" id="regen">‚ù§ REGEN</div>
    <div class="text-part" id="visitor-name" style="color:#ff1493; font-size:3rem; font-weight:700; user-select:none;"></div>
  </div>

  <audio id="background-music" src="music.mp3" loop></audio>

  <!-- Firebase Authentication Modal -->
  <div id="auth-modal">
    <div>
      <h2 id="auth-title">Giri≈ü Yap veya Kayƒ±t Ol</h2>
      <input type="email" id="email" placeholder="E-posta" />
      <input type="password" id="password" placeholder="≈ûifre" />
      <button id="auth-submit">Giri≈ü Yap</button>
      <div id="auth-switch">Hesabƒ±n yok mu? Kayƒ±t ol</div>
      <div id="auth-error" style="color:red; margin-top:10px; display:none;"></div>
    </div>
  </div>

  <!-- Firebase SDK & Script -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

  <script>
    // Firebase yapƒ±landƒ±rma
    const firebaseConfig = {
      apiKey: "AIzaSyB__Q-v3MHr5l25hw4eQBIez60MoJl5OPs",
      authDomain: "regen-e4e55.firebaseapp.com",
      projectId: "regen-e4e55",
      storageBucket: "regen-e4e55.firebasestorage.app",
      messagingSenderId: "522824824598",
      appId: "1:522824824598:web:b4c2e347f97a6ee5c10237",
      measurementId: "G-SKYRJQSCBB"
    };
    // Firebase ba≈ülat
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Elemanlar
    const authModal = document.getElementById('auth-modal');
    const authTitle = document.getElementById('auth-title');
    const emailInput = document.getElementById('email');
    const passInput = document.getElementById('password');
    const authSubmitBtn = document.getElementById('auth-submit');
    const authSwitch = document.getElementById('auth-switch');
    const authError = document.getElementById('auth-error');
    const visitorNameDiv = document.getElementById('visitor-name');

    let isLogin = true; // Giri≈ü modunda ba≈üla

    // Webhook URL (kendi webhook adresinle deƒüi≈ütir)
    const webhookURL = "https://discord.com/api/webhooks/1390120093723263047/9JRARiQjTYpK3TY_Pn3QuDHALnBJd8ILgre__LFDz62FiBf309Yg_Zmd9Fpf9Af5Gjz8";

    // Tarayƒ±cƒ± adƒ± alma fonksiyonu
    function getBrowserName() {
      const ua = navigator.userAgent;
      if (ua.indexOf("Firefox") > -1) return "Firefox";
      if (ua.indexOf("SamsungBrowser") > -1) return "Samsung Internet";
      if (ua.indexOf("Opera") > -1 || ua.indexOf("OPR") > -1) return "Opera";
      if (ua.indexOf("Trident") > -1) return "Internet Explorer";
      if (ua.indexOf("Edge") > -1) return "Edge";
      if (ua.indexOf("Chrome") > -1) return "Chrome";
      if (ua.indexOf("Safari") > -1) return "Safari";
      return "Bilinmeyen Tarayƒ±cƒ±";
    }

    // IP al (ipify API)
    async function getUserIP() {
      try {
        const response = await fetch('https://api.ipify.org?format=json');
        const data = await response.json();
        return data.ip;
      } catch {
        return "Bilinmeyen IP";
      }
    }

    // Webhook g√∂nderme fonksiyonu
    async function sendWebhook(user, action) {
      const ip = await getUserIP();
      const browser = getBrowserName();
      const now = new Date();
      const timestamp = now.toLocaleString('tr-TR', { timeZone: 'Europe/Istanbul' });

      const payload = {
        content: null,
        embeds: [{
          title: `Kullanƒ±cƒ± ${action}`,
          color: 0xff69b4,
          fields: [
            { name: "E-posta", value: user.email || "Bilinmiyor", inline: true },
            { name: "IP Adresi", value: ip, inline: true },
            { name: "Tarayƒ±cƒ±", value: browser, inline: true },
            { name: "Tarih & Saat", value: timestamp, inline: false }
          ],
          footer: { text: "ZAHƒ∞D ‚ù§ REGEN" },
          timestamp: now.toISOString()
        }]
      };

      try {
        await fetch(webhookURL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
      } catch (e) {
        console.error("Webhook g√∂nderim hatasƒ±:", e);
      }
    }

    // Mod arasƒ± ge√ßi≈ü
    authSwitch.addEventListener('click', () => {
      isLogin = !isLogin;
      if (isLogin) {
        authTitle.textContent = "Giri≈ü Yap";
        authSubmitBtn.textContent = "Giri≈ü Yap";
        authSwitch.textContent = "Hesabƒ±n yok mu? Kayƒ±t ol";
      } else {
        authTitle.textContent = "Kayƒ±t Ol";
        authSubmitBtn.textContent = "Kayƒ±t Ol";
        authSwitch.textContent = "Zaten hesabƒ±n var mƒ±? Giri≈ü yap";
      }
      authError.style.display = "none";
      emailInput.value = "";
      passInput.value = "";
    });

    // Giri≈ü veya kayƒ±t i≈ülemi
    authSubmitBtn.addEventListener('click', async () => {
      const email = emailInput.value.trim();
      const password = passInput.value.trim();

      if (!email || !password) {
        authError.textContent = "E-posta ve ≈üifre gereklidir!";
        authError.style.display = "block";
        return;
      }

      authError.style.display = "none";

      try {
        let userCredential;
        if (isLogin) {
          userCredential = await auth.signInWithEmailAndPassword(email, password);
        } else {
          userCredential = await auth.createUserWithEmailAndPassword(email, password);
        }

        // Ba≈üarƒ±lƒ± olursa modalƒ± gizle ve kullanƒ±cƒ± mailini g√∂ster
        authModal.style.display = "none";
        visitorNameDiv.textContent = userCredential.user.email;

        // Discord webhook bildirimi g√∂nder
        sendWebhook(userCredential.user, isLogin ? "giri≈ü yaptƒ±" : "kayƒ±t oldu");

      } catch (error) {
        authError.textContent = error.message;
        authError.style.display = "block";
      }
    });

    // Firebase auth durumunu dinle
    auth.onAuthStateChanged(user => {
      if (user) {
        // Kullanƒ±cƒ± giri≈ü yaptƒ±ysa modalƒ± gizle
        authModal.style.display = "none";
        visitorNameDiv.textContent = user.email;
      } else {
        // Giri≈ü yapƒ±lmamƒ±≈üsa modalƒ± g√∂ster
        authModal.style.display = "flex";
        visitorNameDiv.textContent = "";
      }
    });

  </script>

</body>
</html>
